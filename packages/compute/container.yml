name: compute
version: 1.0.2
kind: ecu # Executable Code Unit

dependencies:
  - python3
  - python3-yaml
  - python3-pip

install:
  - apt update -y && apt upgrade -y

files:
  - requirements.txt
  - __init__.py
  - run.py
  - compute.py

unpack:
  - pip install -r requirements.txt

entrypoint:
  kind: task
  exec: run.py

actions:
  'compute':
    command:
      args:
        - compute
    input:
      - type: IntermediateResult
        name: filepath
    output:
      - type: string
        name: message
    
  'clean_data':
    command:
      args:
        - clean_data
    input:
      - type: IntermediateResult
        name: filepath
    output:
      - type: IntermediateResult
        name: filepath

  'hihi':
    command:
      args:
        - hihi
    input:
      - type: IntermediateResult
        name: filepath
    output:
      - type: IntermediateResult
        name: hello

